<!DOCTYPE html>
<html lang="ko" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>RMRT - 이메일 인증</title>

    <!-- Meta Tags -->
    <th:block th:replace="~{fragments/meta-tags :: default-meta}"></th:block>

    <!-- Styles -->
    <th:block th:replace="~{fragments/head :: styles}"></th:block>

    <!-- Core Scripts -->
    <th:block th:replace="~{fragments/head :: core-scripts}"></th:block>
</head>

<body>

<!-- Header START -->
<header th:replace="~{fragments/header :: header}"></header>
<!-- Header END -->

<!-- **************** MAIN CONTENT START **************** -->
<main>

    <!-- Container START -->
    <div class="container">
        <div class="row justify-content-center align-items-center vh-100 py-5">
            <!-- Main content START -->
            <div class="col-sm-10 col-md-8 col-lg-7 col-xl-6 col-xxl-5">
                <!-- Activation Result START -->
                <div class="card card-body text-center p-4 p-sm-5">

                    <!-- Success Icon -->
                    <div class="mb-4" th:if="${success}">
                        <h1 class="mb-2">이메일 인증 완료</h1>
                        <p class="mb-0 text-success">이메일 인증이 완료되었습니다.</p>
                    </div>

                    <!-- Error Icon -->
                    <div class="mb-4" th:unless="${success}">
                        <h1 class="mb-2">인증 실패</h1>
                        <p class="mb-0 text-danger">유효하지 않거나 만료된 인증 혹은 이미 인증된 링크입니다.</p>
                    </div>

                    <!-- Action Buttons - Success Case -->
                    <div class="mt-4" th:if="${success}">
                        <div class="d-grid gap-2">
                            <!-- 로그인하지 않은 경우에만 로그인 버튼 표시 -->
                            <a class="btn btn-lg btn-primary"
                               sec:authorize="!isAuthenticated()"
                               th:href="@{/signin}">로그인하기</a>

                            <!-- 이미 로그인한 경우 마이페이지 또는 홈으로 -->
                            <a class="btn btn-lg btn-primary"
                               sec:authorize="isAuthenticated()"
                               th:href="@{/}">시작하기</a>

                            <a class="btn btn-lg btn-outline-secondary" th:href="@{/}">홈으로 가기</a>
                        </div>
                    </div>

                    <!-- Action Buttons - Error Case -->
                    <div class="mt-4" th:unless="${success}">
                        <div class="d-grid gap-2">
                            <!-- 로그인한 경우에만 재발송 버튼 표시 -->
                            <a class="btn btn-lg btn-primary"
                               sec:authorize="isAuthenticated()"
                               th:href="@{/members/resend-activation}">이메일 다시 보내기</a>

                            <!-- 로그인하지 않은 경우 로그인 안내 -->
                            <a class="btn btn-lg btn-primary"
                               sec:authorize="!isAuthenticated()"
                               th:href="@{/signin}">로그인하기</a>

                            <a class="btn btn-lg btn-outline-secondary" th:href="@{/}">홈으로 가기</a>
                        </div>
                    </div>

                    <!-- Additional Info -->
                    <div class="mt-4 pt-4 border-top">
                        <p class="small text-muted mb-2" th:if="${success}">
                            이제 모든 서비스를 이용하실 수 있습니다.
                        </p>
                        <p class="small text-muted mb-2" th:unless="${success}">
                            문제가 계속되면 고객센터로 문의해주세요.
                        </p>
                    </div>

                    <!-- Copyright -->
                    <p class="mb-0 mt-3 text-center small">©2025 <a href="https://github.com/AlbertImKr"
                                                                    target="_blank">RealMoneyRealTaste.</a>
                        All rights reserved</p>
                </div>
                <!-- Activation Result END -->
            </div>
        </div> <!-- Row END -->
    </div>
    <!-- Container END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- Footer START -->
<footer th:replace="~{fragments/footer :: footer}"></footer>
<!-- Footer END -->

<!-- =======================
JS libraries, plugins and custom scripts -->

<!-- Bootstrap JS -->
<script src="/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Theme Functions -->
<script src="/assets/js/functions.js"></script>

</body>
</html>
